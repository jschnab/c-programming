# SDL2 library cheet sheet

## Functions

### SDL_Init

Initialize the SDL library.

```
int SDL_Init(Uint32 flags);
```

Parameters:
* `flags`: subsystem initialization flags.

Usual flags include (among others):
* `SDL_INIT_TIMER`: timer subsystem
* `SDL_INIT_AUDIO`: audio subsystem
* `SDL_INIT_VIDEO`: video subsystem (automatically initializes events
  subsystem)
* `SDL_INIT_JOYSTICK`: joystick subsystem
* `SDL_INIT_EVERYTHING`: all subsystems

Returns 0 on success or a negative error code on failure. Calling
`SDL_GetError()` provides more information on failure.

### SDL_Quit

Clean up all initialized SDL subsystems.

```
void SDL_Quit(void);
```

It is safe to call this function when there are initialization errors.

### IMG_Init

Initialize the `SDL_image` subsystems.

```
int IMG_Init(int flags);
```

Parameters:
* `flags`: indicateimage loading support, can be OR'd together

Flags include:
* `IMG_INIT_JPG`
* `IMG_INIT_PNG`
* `IMG_INIT_TIF`

Returns a bitmask of all the currently initiated image loaders. To get more
information about a failure, call `IMG_GetError()`.

This function is idempotent.

### IMG_Quit

Cleans up all dynamically loaded library handles, freeing memory.

```
void IMG_Quit(void);
```

### SDL_CreateWindow

Create an `SDL_Window` struct.

```
SDL_Window * SDL_CreateWindow(
    const char * title,
    int x,
    int y,
    int w,
    int h,
    Uint32 flags
);
```

Parameters:
* `title`: title of the window in UTF-8 encoding
* `x`: x position of the window, `SDL_WINDOWPOS_CENTERED` or `SDL_WINDOWPOS_UNDEFINED`
* `y`: y position of the window, `SDL_WINDOWPOS_CENTERED` or `SDL_WINDOWPOS_UNDEFINED`
* `w`: width of the window
* `h`: height of the window
* `flags`: 0, or one or more [SDL_WindowFlags](https://wiki.libsdl.org/SDL_WindowFlags) OR'd together

Returns the window that was created or NULL on failure.

### SDL_CreateRenderer

Create a 2D rendering context for a window.

```
SDL_Renderer * SDL_CreateRenderer(
    SDL_Window * window,
    int index,
    Uint32 flags
);
```

Parameters:
* `window`: window where rendering is displayed
* `index`: index of the rendering driver, or -1 to initialize the first driver
  supporting the requested flags
* `flags`: 0, or one or more [SDL_RendererFlags](https://wiki.libsdl.org/SDL_RendererFlags) OR'd together

Returns a rendering context or NULL if there was an error.

Renderer flags include (among others):
* `SDL_RENDERER_SOFTWARE`: fallback
* `SDL_RENDERER_ACCELERATED`: uses hardware acceleration

### SDL_SetRenderDrawColor

Set the color used for drawing operations (Rect, Line, and Clear).

```
int SDL_SetRenderDrawColor(
    SDL_Renderer * renderer,
    Uint8 r,
    Uint8 g,
    Uint8 b,
    Uint8 a
);
```

Parameters:
* `renderer` rendering context
* `r`: red value
* `g`: green value
* `b`: blue value
* `a`: alpha value, usually `SDL_ALPHA_OPAQUE` (255)

Returns 0 or success or a negative error code on failure.

### IMG_Load

Load a file for use as an image in a new surface and returns a pointer to the
surface.

```
SDL_Surface * IMG_Load(const char * file);
```

For performance, this function should be called outside of event loops, because
disk speed and image conversion is not very fast.

You should call `SDL_FreeSurface` with the returned surface pointer after use.

### SDL_SetColorKey

Set the color of the transparent pixel (aka key) in a surface.

```
int SDL_SetColorKey(
    SDL_Surface * surface,
    int flag,
    Uint32 key
);
```

Parameters:
* `surface`: the `SDL_Surface` structure to update
* `flag`: `SDL_TRUE` to enable color key or `SDL_FALSE` to disable
* `key`: the transparent pixel

Returns 0 on success or a negative error code on failure.

The color key defines a pixel value that will be treated as transparent in a
blit. It is a pixel of the format used by the surface, as generated by the
function `SDL_MapRGB`.

### SDL_MapRGB

Map an RGB triple to an opaque pixel value for a given pixel format.

```
Uint32 SDL_MapRGB(
    const SDL_PixelFormat * format,
    Uint8 r,
    Uint8 g,
    Uint8 b
);
```

Parameters:
* `format`: an `SDL_PixelFormat` structure describing the pixel format
* `r`: red component of the pixel in the range 0-255
* `g`: green component of the pixel
* `b`: blue component of the pixel

Returns a pixel value.

### SDL_RenderCopy

Copy a portion of a texture to the rendering target.

```
int SDL_RenderCopy(
    SDL_Renderer * renderer,
    SDL_Texture * texture,
    const SDL_Rect * source,
    const SDL_Rect * dest
);
```

Parameters:
* `renderer`: the rendering context
* `texture`: the texture to copy
* `source`: source `SDL_Rect` structure or NULL for entire texture
* `dest`: destination `SDL_Rect` structure or NULL for the entire rendering
  context (texture may be stretched to fill the given rectangle)

Returns 0 on success or a negative error code on failure.
